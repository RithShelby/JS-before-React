<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container p-5">
        <div class="row">
            <div class="col-md-12 text-center">
                <div id="result"></div>
                <button id="fetchButton" class="btn btn-success">Fetch Data</button>
            </div>
        </div>
    </div>
    <script>
        // Function that returns a promise to simulate fetching data from an API
        function fetchData() {
            return new Promise((resolve, reject) => {
                // Simulate an asynchronous operation (e.g., fetching data from an API)
                setTimeout(() => {
                    const data = [`<img class = "w-50" src = "https://www.freevector.com/uploads/vector/preview/11669/FreeVector-Mountain-Sunset.jpg">`,
                        "<h1>hello world</h1>",
                        "<h1>hello crush</h1>",
                        "<h1>hello chat gbt</h1>",
                    ];
                    const error = false; // Simulate no error
                    if (!error) {
                        // If successful, call resolve with the data
                        resolve(data);
                    } else {
                        // If there's an error, call reject with an error message
                        reject("Error fetching data");
                    }
                }, 1000); // Simulate a 2-second delay
            });
        }
        // Using the promise when the button is clicked
        const btn = document.getElementById("fetchButton");
        let dataIndex = 0;
        btn.addEventListener("click", function () {
            const div = document.getElementById("result");
            div.innerHTML = "Fetching data .... ";
            fetchData()
                .then(data => {
                    // Handle the successful result
                    if (dataIndex < data.length) {
                        div.innerHTML = data[dataIndex];
                        dataIndex++;
                    } else {
                        dataIndex = 0;
                        div.innerHTML = "Data is gone! Click Fetch data to back on the first data...";
                    }
                })
                .catch(error => {
                    // Handle any errors that occurred during the operation
                    div.innerText = "Error: " + error;
                });
        });
    </script>
</body>

</html>